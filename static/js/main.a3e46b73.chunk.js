(this["webpackJsonprandom-cat-facts"]=this["webpackJsonprandom-cat-facts"]||[]).push([[0],{53:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);c(53);var n,a=c(1),r=c.n(a),i=c(19),o=c.n(i),d=c(7),s=c(15),O=c(6),f=c(24),l={app:{body:{BG_COLOR:"#2a2a2e",TEXT_COLOR:"#cfcfd1"},header:{BG_COLOR:"#565656"}},themeSwitcher:{body:{normal:{BG_COLOR:"#d3d3d3",BORDER_COLOR:"#d3d3d3"},active:{BG_COLOR:"inherit"}},circle:{BG_COLOR:"#ffffff",BORDER_COLOR:"#a1a1a1"}}},b=c(5),u={body:{BG_COLOR:"#cfcfd1",TEXT_COLOR:"#2a2a2e"},header:{BG_COLOR:"#565656"}},j={dark:l,light:Object(b.a)(Object(b.a)({},l),{},{app:u})},h=c(3),p="app-theme";!function(e){e.dark="dark",e.light="light"}(n||(n={}));var x=Object(a.createContext)({toggleTheme:function(){}}),g=function(e){var t=Object(a.useState)(n.dark),c=Object(f.a)(t,2),r=c[0],i=c[1];Object(a.useEffect)((function(){localStorage.getItem(p)||localStorage.setItem(p,n.dark)}),[]),Object(a.useLayoutEffect)((function(){var e=localStorage.getItem(p);if(e)switch(e){case n.light:return void i(n.light);case n.dark:default:i(n.dark)}}),[]);var o={toggleTheme:function(){var e=r===n.dark?n.light:n.dark;localStorage.setItem(p,e),i(e)}};return Object(h.jsx)(x.Provider,{value:o,children:Object(h.jsx)(O.a,{theme:r===n.dark?j.dark:j.light,children:e.children})})},m=c(12),v=c(47),C=c(23),k=c(52),_=c(14),R=c(25),y="@facts/SELECT_NEXT_FACT",w="@facts/SELECT_PREV_FACT",L="@facts/GET_RANDOM_FACT_PENDING",T="@facts/GET_RANDOM_FACT_FULFILLED",E="@facts/GET_RANDOM_FACT_REJECTED",I={factIds:[],facts:{},selectedFact:""};var F={facts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var c=e.factIds.indexOf(e.selectedFact);return-1===c||c+1>=e.factIds.length||void 0===e.factIds[c+1]?Object(b.a)(Object(b.a)({},e),{},{selectedFact:e.factIds[0]}):Object(b.a)(Object(b.a)({},e),{},{selectedFact:e.factIds[c+1]});case w:var n=e.factIds.indexOf(e.selectedFact);return-1===n||n-1<0||void 0===e.factIds[n-1]?Object(b.a)(Object(b.a)({},e),{},{selectedFact:e.factIds[e.factIds.length-1]}):Object(b.a)(Object(b.a)({},e),{},{selectedFact:e.factIds[n-1]});case T:var a=t.payload._id,r=-1!==e.factIds.indexOf(a);return Object(b.a)(Object(b.a)({},e),{},{factIds:r?e.factIds:[].concat(Object(R.a)(e.factIds),[a]),facts:r?e.facts:Object(b.a)(Object(b.a)({},e.facts),{},Object(_.a)({},a,t.payload)),selectedFact:a});default:return e}}},S="@route/HOME",B=Object(_.a)({},S,{path:"/"}),A=c(17),G=c.n(A),D=c(13),M=c(50),N=c.n(M),P="".concat("https","://").concat("cat-fact.herokuapp.com",":").concat("443");function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(b.a)({baseURL:P},e);return N.a.request(t)}var Y=G.a.mark(z);function z(){var e,t,c,n,a,r;return G.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(D.b)(X,{url:"/facts/random"});case 3:return e=i.sent,t=e.data,c=t._id,n=t.createdAt,a=t.text,r=t.updatedAt,i.next=8,Object(D.c)({type:T,payload:{_id:c,createdAt:n,text:a,updatedAt:r}});case 8:i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(0),i.next=14,Object(D.c)({type:E});case 14:case"end":return i.stop()}}),Y,null,[[0,10]])}var J=[Object(D.d)(5e3,L,z)],q=G.a.mark(U);function U(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)(Object(R.a)(J));case 2:case"end":return e.stop()}}),q)}var H=Object(C.c)(B,{basename:"/random-cat-facts"}),V=H.enhancer,W=H.middleware,K=H.reducer,Q=Object(m.combineReducers)(Object(b.a)({location:K},F)),Z=Object(k.a)(),$=Object(m.createStore)(Q,Object(v.composeWithDevTools)(V,Object(m.applyMiddleware)(Z,W)));Z.run(U);var ee,te,ce,ne,ae,re,ie,oe,de,se,Oe,fe,le,be,ue,je=s.c,he=c(26),pe=O.c.div(ee||(ee=Object(d.a)(["\n  border: 1px solid ",";\n  border-radius: 8px;\n  height: 30px;\n  width: 70px;\n  position: relative;\n  cursor: pointer;\n  background-color: ",";\n"])),(function(e){return e.theme.themeSwitcher.body.normal.BORDER_COLOR}),(function(e){var t=e.activeTheme,c=e.theme;return t===n.dark?c.themeSwitcher.body.active.BG_COLOR:c.themeSwitcher.body.normal.BG_COLOR})),xe=O.c.span(te||(te=Object(d.a)(["\n  height: 100%;\n  width: 30px;\n  border-radius: 50%;\n  background-color: ",";\n  border: 1px solid ",";\n  display: block;\n  position: absolute;\n  ",";\n"])),(function(e){return e.theme.themeSwitcher.circle.BG_COLOR}),(function(e){return e.theme.themeSwitcher.circle.BORDER_COLOR}),(function(e){return e.activeTheme===n.dark?"left: 0;":"right: 0;"})),ge=function(e){var t=Object(a.useState)(n.dark),c=Object(f.a)(t,2),r=c[0],i=c[1],o=Object(a.useContext)(x).toggleTheme;return Object(a.useLayoutEffect)((function(){var e,t=localStorage.getItem(p);((e=t)===n.dark||e===n.light)&&i(t)}),[]),Object(h.jsx)(pe,Object(b.a)(Object(b.a)({activeTheme:r,onClick:function(){o(),i(r===n.dark?n.light:n.dark)}},e),{},{children:Object(h.jsx)(xe,{activeTheme:r})}))},me=O.c.div(ce||(ce=Object(d.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  height: 100%;\n"]))),ve=O.c.div(ne||(ne=Object(d.a)(["\n  height: 50px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: ",";\n  padding: 0 20px;\n  flex-shrink: 0;\n"])),(function(e){return e.theme.app.header.BG_COLOR})),Ce=O.c.span(ae||(ae=Object(d.a)(["\n  font-size: 32px;\n"]))),ke=O.c.div(re||(re=Object(d.a)(["\n  margin: 0 20px;\n  height: 100%;\n"]))),_e=function(e){var t=e.children,c=Object(he.a)(e,["children"]);return Object(h.jsxs)(me,Object(b.a)(Object(b.a)({},c),{},{children:[Object(h.jsxs)(ve,{children:[Object(h.jsx)(Ce,{children:"\ud83d\udc31"}),Object(h.jsx)(ge,{})]}),Object(h.jsx)(ke,{children:t})]}))},Re=c(51),ye=c.n(Re),we=O.c.div(ie||(ie=Object(d.a)(["\n  border: 1px solid ",";\n  border-radius: 6px;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 12px;\n"])),(function(e){return e.theme.app.body.TEXT_COLOR})),Le=O.c.span(oe||(oe=Object(d.a)(["\n  font-size: 42px;\n  font-weight: 600;\n  text-align: center;\n  margin-bottom: 10px;\n  word-wrap: break-word;\n"]))),Te=O.c.span(de||(de=Object(d.a)(["\n  text-align: right;\n  font-size: 12px;\n"]))),Ee=function(e){var t=e.createdAt,c=e.fact,n=Object(he.a)(e,["createdAt","fact"]);return Object(h.jsxs)(we,Object(b.a)(Object(b.a)({},n),{},{children:[Object(h.jsx)(Le,{children:c}),Object(h.jsxs)(Te,{children:["Submitted on ",ye()(t).format("YYYY-MM-DD")]})]}))},Ie=function(){return{type:L}},Fe=O.c.div(se||(se=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  padding: 30px 0;\n"]))),Se=O.c.button(Oe||(Oe=Object(d.a)(["\n  border: none;\n  border-radius: 6px;\n  height: 36px;\n"]))),Be=Object(O.c)(Se)(fe||(fe=Object(d.a)(["\n  margin-bottom: 10px;\n  flex-shrink: 0;\n"]))),Ae=O.c.div(le||(le=Object(d.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  flex-shrink: 0;\n\n  > button {\n    flex: 1 1 auto;\n\n    &:not(:last-of-type) {\n      margin-right: 10px;\n    }\n  }\n"]))),Ge=O.c.span(be||(be=Object(d.a)(["\n  margin-top: auto;\n"]))),De=O.c.a(ue||(ue=Object(d.a)(["\n  &,\n  &:hover,\n  &:active,\n  &:visited {\n    color: inherit;\n  }\n"]))),Me=function(){var e=je((function(e){return{factIds:e.facts.factIds,facts:e.facts.facts,selectedFact:e.facts.selectedFact}})),t=e.factIds,c=e.facts,n=e.selectedFact,r=Object(s.b)();return Object(a.useEffect)((function(){r(Ie())}),[r]),Object(h.jsxs)(Fe,{children:[Object(h.jsx)(Be,{onClick:function(){r(Ie())},children:"Request random fact"}),t.length>2&&Object(h.jsxs)(Ae,{children:[Object(h.jsx)(Se,{onClick:function(){r({type:w})},children:"Select previous fact"}),Object(h.jsx)(Se,{onClick:function(){r({type:y})},children:"Select next fact"})]}),function(){if(0===t.length||-1===t.indexOf(n))return null;var e=c[n];return Object(h.jsx)(Ee,{createdAt:e.createdAt,fact:e.text})}(),Object(h.jsxs)(Ge,{children:["Cat facts provided by"," ",Object(h.jsx)(De,{href:"https://cat-fact.herokuapp.com",rel:"noreferrer noopener nofollow",target:"_blank",children:"Cat Facts"})]})]})};var Ne,Pe=function(){var e;switch(je((function(e){return e.location.type}))){case S:return e=Object(h.jsx)(Me,{}),Object(h.jsx)(_e,{children:e});case C.b:default:return null}},Xe=Object(O.b)(Ne||(Ne=Object(d.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.app.body.BG_COLOR}),(function(e){return e.theme.app.body.TEXT_COLOR}));var Ye=function(){return Object(h.jsx)(s.a,{store:$,children:Object(h.jsxs)(g,{children:[Object(h.jsx)(Xe,{}),Object(h.jsx)(Pe,{})]})})},ze=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Ye,{})}),document.getElementById("root")),ze()}},[[89,1,2]]]);
//# sourceMappingURL=main.a3e46b73.chunk.js.map